<!DOCTYPE html>

<html lang="en"><!--html code/start-->

 <!--NOTE: This is a very simple example file...; 
           where all code is combined together inside of 'one' single file: 
           js-phonebook-01c.html

           In an actual real life application, however, 
           you would create 4 entirely separate files
           (and, then, link to each of these from the main HTML file):-

           1> js-phonebook-01.html    - (stores the HTML codes/and, main UI-User interface)
           2> js-phonebook-01.css     - (stores the internal header stylesheet code)
           3> js-phonebook-01.js      - (stores the main Javascript program script logic)
           4> js-phonebook-01-data.js - (stores the database: names, numbers, addresses, -etc.)
 -->  
 
 <!-- Javascript Phonebook application...version III;
      -(The previous versions...
          Version I: included 2 fields: 'name, number'           (non searchable/list all)
         Version II: included 3 fields: 'category, name, number' (search by 'category' field, only)
        Version III: includes 9 fields: 'category, name, reference, number, mobile, address, url, email, notes
        ...therefore, I'm no longer calling Version III a 'phonebook' application, anymore;
        and, I've decided to call it a 'database' application, instead;
        as it no longer 'needs' to store phone numbers...the which value is entirely 'optional'.)-
 -->
 
 <!-- List of possible future improvements...

      1> The search is 'case sensitive'...and, should allow for 'mixed case' searching, as well. 

      2a> The search is 'one' field: category...but, should include 'all' fields. 

      2b> Because all field names are NOT searchable; 
          I'm thinking of including the name inside of the 'category' list;
          this would make searches far more highly 'specific';
          instead, of spilling out loads of unnecessary data. 

      2c> It would be good to include 'location', too...inside of the category field;
          as this would allow searching of any particular area

      2d> Because, there can be multiple 'categories' for any one entry: CoOp, Brixton, Supermarket, -etc.
          it would be nice if the search could target multiple fields, at once, in a single search term
          'charity timebank'

      3> In order to add to the database entries;
         both fields: 'category, name' are, in fact, wholly mandatory/(meaning, cannot be left out);
         possibly, one could also make both these fields hold a 'null' value, too;
         then, one could inlude a 'template' entry containing only null fields/(to be filled in, later on).

      4> Each database entry consists of a number of 'fixed length' fields...eg. 9 fields in length; 
         for example, if I decided to add on a next field: 'Mobile2:nnnn'; (and, so, introducing a 10th field);
         then, I would have to add a new matching empty field to every single database entry: 'Mobile2:null'
         for the program to continue working properly;
         this means, if there were 1000+ entries to change/update; 
         I would have to add 1000+ 'Mobile2:null' fields..?!
         Perhaps, there could be found a way to have 'non fixed length fields' for each database entry. 

      5> I'm not entirely happy with the UI-User Interface; 
         written much clearer than before...; 
         but, still not quite right, yet...?! 
    
      6> I wish to add 'secret' keys...
         Such as press key: [h] for Help/'[s]' for show ALL/'[c]' for clear ALL/-etc.;
         and, also, possibly, include combination key presses: '[ALT]+[a]'/-etc.
 -->
 
 <head><!--head section/start-->


  <meta charset="utf-8" />

  <title>Javascript Phonebook App</title>

  <!--javascript code/start-->
  <script>

   /* 
     Database format: A single array:[], which holds multiple objects inside: {}.
            9 fields: category, name, reference, number, mobile, address, url, email, notes 
 
              -(NOTE: If a particular field name is marked as having the value: null; 
                      then, this field name will NOT be displayed inside of the 'output' results.)-
   */

   var phonebook = [
    {
     category:"geoff, family, cousin", 
     name:"Geoff", 
     reference:null,
     number:"0208",
     mobile:null,
     address:null,
     url:null,
     email:null,
     notes:null
    },
    {
     category:"david, friends, martial arts, tai chi, teacher", 
     name:"David",
     reference:null,
     number:"0207",
     mobile:null,
     address:"123 Abc Road, Xyz City, London, XXX ZZZ.",
     url:null,
     email:null,
     notes:null
    },
    {
     category:"cheshire, business, finance, building society", 
     name:"Cheshire", 
     reference:null,
     number:null,
     mobile:null,
     address:null,
     url:null,
     email:null,
     notes:null
    },
    {
     category:"zoltan, business, builder",
     name:"Zoltan",
     reference:null,
     number:"0730",
     mobile:null,
     address:null,
     url:null,
     email:null,
     notes:"Paid him in full/disappeared/work still remains unfinished...?!"
    },
    {
     category:"emergency, police, fire, ambulance",
     name:"Emergency",
     reference:null,
     number:"999",
     mobile:null,
     address:null,
     url:null,
     email:null,
     notes:null
    },
    {
     category:"medical centre, emergency, doctor",
     name:"Medical Centre",
     reference:null,
     number:"0208",
     mobile:null,
     address:null,
     url:null,
     email:null,
     notes:null
    },
    {
     category:"samaritans, emergency, suicidal, chat",
     name:"Samaritans",
     reference:null,
     number:"0208",
     mobile:null,
     address:null,
     url:null,
     email:null,
     notes:null
    },
    {
     category:"lil sullivan, arts, entertainment, teacher, charity, pgtb, friend",
     name: "Lil Sullivan",
     reference:null,
     number:"0207",
     mobile:null,
     address:null,
     url:null,
     email:null,
     notes:"(Met through charity: PGTB.)"
    },
    {
     category:"creditkarma, business, finance, credit report",
     name:"CreditKarma",
     reference:null,
     number:null,
     mobile:null,
     address:null,
     url:"<a href='https://www.creditkarma.com' target='_blank'>https://www.creditkarma.com</a>",
     email:null,
     notes:null
    },
    {
     category:"clearscore, business, finance, credit report",
     name:"ClearScore",
     reference:null,
     number:null,
     mobile:null,
     address:null,
     url:"<a href='https://www.clearscore.com' target='_blank'>https://www.clearscore.com</a>",
     email:null,
     notes:null
    },
    {
     category:"pockit, business, finance, bank, debit card, pre-pay card, loan",
     name:"Pockit",
     reference:null,
     number:null,
     mobile:null,
     address:null,
     url:"<a href='https://www.pockit.com' target='_blank'>https://www.pockit.com</a>",
     email:null,
     notes:null
    },
    {
     category:"barclays, business, finance, bank, debit card, loan",
     name:"Barclays",
     reference:null,
     number:null,
     mobile:null,
     address:null,
     url:"<a href='https://www.barclays.co.uk' target='_blank'>https://www.barclays.co.uk</a>",
     email:null,
     notes:null
    },
    {
     category:"nat west, national westminister, business, finance, bank, debit card, loan",
     name:"Nat West",
     reference:null,
     number:"0800 200 400",
     mobile:null,
     address:null,
     url:"<a href='https://www.natwest.com' target='_blank'>https://www.natwest.com</a>",
     email:null,
     notes:null
    },
    {
     category:"cashplus, business, finance, bank, debit card, credit builder, loan",
     name:"Cashplus",
     reference:null,
     number:"0330 024 0924",
     mobile:null,
     address:null,
     url:"<a href='https://www.cashplus.com' target='_blank'>https://www.cashplus.com</a>",
     email:null,
     notes:null
    },
    {
     category:"loqbox, business, finance, credit builder, loan",
     name:"LoqBox",
     reference:null,
     number:null,
     mobile:null,
     address:null,
     url:"<a href='https://www.loqbox.com' target='_blank'>https://www.loqbox.com</a>",
     email:null,
     notes:null
    },
    {
     category:"nationwide, business, finance, building society, debit card, loan",
     name:"Nationwide",
     reference:null,
     number:null,
     mobile:null,
     address:null,
     url:"<a href='https://www.nationwide.co.uk' target='_blank'>https://www.nationwide.co.uk</a>",
     email:null,
     notes:null
    },
    {
     category:"pgtb, paxton green time bank, timebank, business, charity, arts, entertainment",
     name:"PGTB/Paxton Green Time Bank",
     number:"0208 670 0990",
     mobile:null,
     address:null,
     url:null,
     url:"<a href='https://www.paxtongreentimebank.org' target='_blank'>https://www.paxtongreentimebank.org</a>",
     notes:null
    },
    {
     category:"personal, family, west norwood",
     name:"Personal",
     reference:null,
     number:"0208",
     mobile:"0730",
     address:null,
     url:null,
     email:null,
     notes:null
    },
    {
     category:"yahoo, mail, email",
     name:"Yahoo",
     reference:null,
     number:null,
     mobile:null,
     address:null,
     url:"<a href='https://www.yahoo.com' target='_blank'>https://www.yahoo.com</a>",
     email:null,
     notes:"My main email service provider."
    },
    {
     category:"mail, email",
     name:"Mail",
     reference:null,
     number:null,
     mobile:null,
     address:null,
     url:"<a href='https://www.mail.com' target='_blank'>https://www.mail.com</a>",
     email:null,
     notes:"Alternative email service provider."
    },
    {
     category:"namecheap, web dev, web host, domain",
     name:"NameCheap",
     reference:null,
     number:null,
     mobile:null,
     address:null,
     url:"<a href='https://www.namecheap.com' target='_blank'>https://www.namecheap.com</a>",
     email:null,
     notes:"Buy your own domain name, web site hosting service."
    },
    {
     category:"123-reg, web dev, web host, domain",
     name:"123-reg.co.uk",
     reference:null,
     number:null,
     mobile:null,
     address:null,
     url:"<a href='https://www.123-reg.co.uk' target='_blank'>https://www.123-reg.co.uk</a>",
     email:null,
     notes:"Buy your own domain name, web site hosting service."
    },
    {
     category:"bluehost, web dev, web host, domain",
     name:"BlueHost",
     reference:null,
     number:null,
     mobile:null,
     address:null,
     url:"<a href='https://www.bluehost.com' target='_blank'>https://www.bluehost.com</a>",
     email:null,
     notes:"Buy your own domain name, web site hosting service."
    },
    {
     category:"w3schools, web dev, programming",
     name:"W3Schools",
     reference:null,
     number:null,
     mobile:null,
     address:null,
     url:"<a href='https://www.w3schools.com' target='_blank'>https://www.w3schools.com</a>",
     email:null,
     notes:"Learn web development/programming."
    },
    {
     category:"thames water, utilities",
     name:"Thames Water",
     reference:null,
     number:null,
     mobile:null,
     address:null,
     url:"<a href='https://www.thameswater.co.uk' target='_blank'>https://www.thameswater.co.uk</a>",
     email:null,
     notes:"£70.00 due/year: 2020."
    },
    {
     category:"british gas, utilities",
     name:"British Gas",
     reference:null,
     number:null,
     mobile:null,
     address:null,
     url:"<a href='https://www.britishgas.co.uk' target='_blank'>https://www.britishgas.co.uk</a>",
     email:null,
     notes:"£50.00 due/quarter: Sep/Dec 2020."
    },
    {
     category:"tv licence, utilities",
     name:"TV Licence",
     reference:null,
     number:null,
     mobile:null,
     address:null,
     url:"<a href='https://www.tvlicensing.co.uk' target='_blank'>https://www.tvlicensing.co.uk</a>",
     email:null,
     notes:"2020 all paid"
    },
    {
     category:"talktalk, utilities, phone, broadband, internet, isp",
     name:"TalkTalk",
     reference:null,
     number:null,
     mobile:null,
     address:null,
     url:"<a href='https://www.talktalk.co.uk' target='_blank'>https://www.talktalk.co.uk</a>",
     email:null,
     notes:"2020 all paid."
    },
    {
     category:"halfords, bike, brixton",
     name:"Halfords",
     reference:null,
     number:null,
     mobile:null,
     address:null,
     url:"<a href='https://www.halfords.com' target='_blank'>https://www.halfords.com</a>",
     email:null,
     notes:"<b>URGENT REMINDER</b>: Need to book a FREE bike service."
    },
    {
     category:"tfl, transport for london, oyster, travel, public transport, bus, tube, train, tram",
     name:"TFL/Transport For London",
     reference:null,
     number:null,
     mobile:null,
     address:null,
     url:"<a href='https://www.tfl.gov.uk' target='_blank'>https://www.tfl.gov.uk</a>",
     email:null,
     notes:"<b>URGENT REMINDER</b>: Need to top up my travel pass/(also, re-new discount pass)."
    },
    {
     category:"tate gallery, arts, entertainment, free, subscription",
     name:"Tate Gallery",
     reference:null,
     number:null,
     mobile:null,
     address:null,
     url:"<a href='https://www.tate.org.uk' target='_blank'>https://www.tate.org.uk</a>",
     email:null,
     notes:null
    },
    {
     category:"dulwich picture gallery, arts, entertainment, free, subscription",
     name:"Dulwich Picture Gallery",
     reference:null,
     number:null,
     mobile:null,
     address:null,
     url:"<a href='https://www.dulwichpicturegallery.org.uk' target='_blank'>https://www.dulwichpicturegallery.org.uk</a>",
     email:null,
     notes:null
    },




/* 
 ...new database entry template/start...
    {
     category:"",
     name:"",
     reference:null,
     number:null,
     mobile:null,
     address:null,
     url:null,
     email:null,
     notes:null
    },
  ...new database entry template/end... 
*/

   ] //end of objects array, phonebook

   function showNoOfRecords(){
    var noOfRecords = phonebook.length;
    document.getElementById("inpNoOfRecs").value = noOfRecords;
   } //...end of function/showNoOfRecords()

   function showAll(){
    showNoOfRecords();
    output = "";
    for (var x = 0; x < phonebook.length; x++){
     buildOutput(x+1,x);
    }
    document.getElementById("divOutput").innerHTML = output;
   } //...end of function/showALL()

   function clearOutput(){
    output = "";
    document.getElementById("inpNoOfRecs").value = 0;
    document.getElementById("inpSearchText").value = "";
    document.getElementById("divOutput").innerHTML = output;
   } //...end of function/clearOutput()

   function search(){
    output = "";
    var noOfRecordsFound = 0;
    var searchText = document.getElementById("inpSearchText").value;
    for (var x = 0; x < phonebook.length; x++){
     var n = (phonebook[x].category).includes(searchText);
     if (n) { 
      buildOutput(++noOfRecordsFound,x);
     }
    }
    document.getElementById("inpNoOfRecs").value = noOfRecordsFound;
    document.getElementById("divOutput").innerHTML = output;
   } //...end of function/search()

   function buildOutput(recNo,x){
    output += "<hr />" + recNo + "&gt;"
                                                        + "<br /><b>Category</b>: " + phonebook[x].category
           + "<br /><b>Name</b>: "                                                  + phonebook[x].name
      if (phonebook[x].reference  != null)  {output += "<br /><b>Reference</b>: "   + phonebook[x].reference;} 
      if (phonebook[x].number     != null)  {output += "<br /><b>Number</b>: "      + phonebook[x].number;} 
      if (phonebook[x].mobile     != null)  {output += "<br /><b>Mobile</b>: "      + phonebook[x].mobile;} 
      if (phonebook[x].url        != null)  {output += "<br /><b>URL</b>: "         + phonebook[x].url;}
      if (phonebook[x].address    != null)  {output += "<br /><b>Address</b>: "     + phonebook[x].address;} 
      if (phonebook[x].email      != null)  {output += "<br /><b>Email</b>: "       + phonebook[x].email;} 
      if (phonebook[x].notes      != null)  {output += "<br /><b>NOTES</b>: "       + phonebook[x].notes;}
                         + "<hr />";    
                return output;				
   }
   

  </script>
  <!--javascript code/end-->

  <!--internal header based stylesheet/start-->
  <style>

   /* links */

   a:link{color:blue;text-decoration:none;}
   a:hover{color:red;text-decoration:underline;}
   a:active{color:orange;}
   a:visited{color:purple;}

   /* header and footer */

   header,footer{text-align:center;}

   /* classes */

   .clsTimeDateStamp{color:red;font-style:italic;}

   /* id's */

   #divButtons{text-align:center;}
   #divOutput{border:1px solid black;padding:25px;}
   #copyrightMessage{background-color:black;color:white;font-weight:bold;}
   
  </style>
  <!--internal header based stylesheet/end-->


 </head><!--head section/end-->

 
 <body onload="javascript:showNoOfRecords();"><!--body section/start-->


  <header>
   <h1>Javascript phonebook app.</h1>
  </header>

  <main>
   <div id="divButtons">
    No of records: <input type="text" size="3" id="inpNoOfRecs" />
    <button onclick="javascript:showAll();">Show ALL</button> /
    <button onclick="javascript:clearOutput();">Clear ALL</button>
    <br /><br />
    Enter search text for field name: <i>category</i>/being written in all 'lower case'.
    <br />(Example/s: arts, entertainment, -etc.) 
    <br /><input type="text" size="20" id="inpSearchText" />
    <button onclick="javascript:search();">Search</button>
    <br /><br />
   </div>
   <div id="divOutput"></div>
  </main>

  <footer>
   <p>
    Email: 
    <a href="mailto:pramnora@yahoo.com">pramnora@yahoo.com</a>
    <br />
    <span id="copyrightMessage">&copy;2020, Mr. Paul Ramnora./All rights reserved.</span>
    <br />    
    Page created: <span class="clsTimeDateStamp">18:24 21/11/2020</span>
    <br />
    Last updated: <span class="clsTimeDateStamp">23:09 24/11/2020</span>
   </p>
  </footer>


 </body><!--body section/end-->


<!--html code/end-->
</html>
