<!DOCTYPE html>

<html lang="en"><!--html code/start-->

 <!--NOTE: This is a very simple example file...; 
           where all code is combined together inside of 'one' single file: 
           js-phonebook-01c.html

           In an actual real life application, however, 
           you would create 4 entirely separate files
           (and, then, link to each of these from the main HTML file):-

           1> js-phonebook-01.html    - (stores the HTML codes/and, main UI-User interface)
           2> js-phonebook-01.css     - (stores the internal header stylesheet code)
           3> js-phonebook-01.js      - (stores the main Javascript program script logic)
           4> js-phonebook-01-data.js - (stores the database: names, numbers, addresses, -etc.)
 -->  
 
 <!-- Javascript Phonebook application...version III;
      allows searching through a list of various different 'categories';
      this version includes multiple different field names...total: 8 fields.
      -(The previous versions only included 2 fields: 'name, number'.)-
 -->
 
 <!-- List of possible future improvements...

      1> The search is 'case sensitive'...and, should allow for 'mixed case' searching, as well. 

      2> The search is 'one' field: category...but, should include 'all' fields. 

      3> In order to add to the database entries;
         both fields: 'category, name' are, in fact, wholly mandatory/(meaning, cannot be left out);
         possibly, one could also make both these fields hold a 'null' value, too;
         then, one could inlude a 'template' entry containing only null fields/(to be filled in, later on).

      4> Each database entry consists of a number of 'fixed length' fields...eg. 8 fields in length; 
         for example, if I decided to add on a next field: 'Mobile2:nnnn'; (and, so, introducing a 9th field);
         then, I would have to add a new matching empty field to every single database entry: 'Mobile2:null'
         for the program to continue working properly;
         this means, if there were 1000+ entries to change/update; 
         I would have to add 1000+ 'Mobile2:null' fields..?!
         Perhaps, there could be found a way to have 'non fixed length fields' for each database entry. 
 -->
 
 <head><!--head section/start-->


  <meta charset="utf-8" />

  <title>Javascript Phonebook App</title>

  <!--javascript code/start-->
  <script>

   /* 
     Database format: A single array:[], which holds multiple objects inside: {}.
            8 fields: category, name, number, mobile, address, url, email, notes 
 
              -(NOTE: If a particular field name is marked as having the value: null; 
                      then, this field name will NOT be displayed inside of the 'output' results.)-
   */

   var phonebook = [
    {
     category:"family, cousin", 
     name:"Geoff", 
     number:"0208",
     mobile:null,
     address:null,
     url:null,
     email:null,
     notes:null
    },
    {
     category:"friends, martial arts, tai chi, teacher", 
     name:"David",
     number:"0207",
     mobile:null,
     address:"123 Abc Road, Xyz City, London, XXX ZZZ.",
     url:null,
     email:null,
     notes:null
    },
    {
     category:"business, finance, building society", 
     name:"Cheshire", 
     number:"0345",
     mobile:null,
     address:null,
     url:null,
     email:null,
     notes:null
    },
    {
     category:"business, builder",
     name:"Zoltan",
     number:"0730",
     mobile:null,
     address:null,
     url:null,
     email:null,
     notes:"Paid him in full/disappeared/work still remains unfinished...?!"
    },
    {
     category:"emergency, police, fire, ambulance",
     name:"Emergency",
     number:"999",
     mobile:null,
     address:null,
     url:null,
     email:null,
     notes:null
    },
    {
     category:"emergency, doctor",
     name:"Medical Centre",
     number:"0208",
     mobile:null,
     address:null,
     url:null,
     email:null,
     notes:null
    },
    {
     category:"emergency, suicidal, chat",
     name:"Samaritans",
     number:"0208",
     mobile:null,
     address:null,
     url:null,
     email:null,
     notes:null
    },
    {
     category:"art, teacher, charity, pgtb, friend",
     name: "Lil Sullivan",
     number:"0207",
     mobile:null,
     address:null,
     url:null,
     email:null,
     notes:"(Met through charity: PGTB.)"
    },
    {
     category:"business, finance, credit report",
     name:"CreditKarma",
     number:null,
     mobile:null,
     address:null,
     url:"<a href='https://www.clearscore.com' target='_blank'>https://www.clearscore.com</a>",
     email:null,
     notes:null
    },
    {
     category:"business, finance, credit report",
     name:"ClearScore",
     number:null,
     mobile:null,
     address:null,
     url:"<a href='https://www.clearscore.com' target='_blank'>https://www.clearscore.com</a>",
     email:null,
     notes:null
    },
    {
     category:"business, finance, bank, debit card, pre-pay card, loan",
     name:"Pockit",
     number:null,
     mobile:null,
     address:null,
     url:"<a href='https://www.pockit.com' target='_blank'>https://www.pockit.com</a>",
     email:null,
     notes:null
    },
    {
     category:"business, finance, bank, debit card, loan",
     name:"Barclays",
     number:null,
     mobile:null,
     address:null,
     url:"<a href='https://www.barclays.co.uk' target='_blank'>https://www.barclays.co.uk</a>",
     email:null,
     notes:null
    },
    {
     category:"business, finance, bank, debit card, loan",
     name:"Nat West",
     number:"0800 200 400",
     mobile:null,
     address:null,
     url:"<a href='https://www.natwest.com' target='_blank'>https://www.natwest.com</a>",
     email:null,
     notes:null
    },
    {
     category:"business, finance, bank, debit card, loan",
     name:"Cashplus",
     number:"0330 024 0924",
     mobile:null,
     address:null,
     url:"<a href='https://www.cashplus.com' target='_blank'>https://www.cashplus.com</a>",
     email:null,
     notes:null
    },
    {
     category:"business, finance, building society, debit card, loan",
     name:"Nationwide",
     number:null,
     mobile:null,
     address:null,
     url:"<a href='https://www.nationwide.co.uk' target='_blank'>https://www.nationwide.co.uk</a>",
     email:null,
     notes:null
    },
    {
     category:"business, charity, timebank, pgtb",
     name:"PGTB/Paxton Green Time Bank",
     number:"0208 670 0990",
     mobile:null,
     address:null,
     url:null,
     url:"<a href='https://www.paxtongreentimebank.org' target='_blank'>https://www.paxtongreentimebank.org</a>",
     notes:null
    },
    {
     category:"personal, family",
     name:"Myself",
     number:"0208",
     mobile:null,
     address:null,
     url:null,
     email:null,
     notes:null
    },
    {
     category:"mail, email",
     name:"Yahoo",
     number:null,
     mobile:null,
     address:null,
     url:"<a href='https://www.yahoo.com' target='_blank'>https://www.yahoo.com</a>",
     email:null,
     notes:"My main email service provider."
    },
    {
     category:"mail, email",
     name:"Mail",
     number:null,
     mobile:null,
     address:null,
     url:"<a href='https://www.mail.com' target='_blank'>https://www.mail.com</a>",
     email:null,
     notes:"Alternative email service provider."
    },
    {
     category:"web dev, web host, domain",
     name:"NameCheap",
     number:null,
     mobile:null,
     address:null,
     url:"<a href='https://www.namecheap.com' target='_blank'>https://www.namecheap.com</a>",
     email:null,
     notes:"Buy your own domain name, web site hosting service."
    },
    {
     category:"web dev, web host, domain",
     name:"123reg.co.uk",
     number:null,
     mobile:null,
     address:null,
     url:"<a href='https://www.123-reg.co.uk' target='_blank'>https://www.123-reg.co.uk</a>",
     email:null,
     notes:"Buy your own domain name, web site hosting service."
    },
    {
     category:"web dev, web host, domain",
     name:"BlueHost",
     number:null,
     mobile:null,
     address:null,
     url:"<a href='https://www.bluehost.com' target='_blank'>https://www.bluehost.com</a>",
     email:null,
     notes:"Buy your own domain name, web site hosting service."
    },
    {
     category:"web dev, programming",
     name:"W3Schools",
     number:null,
     mobile:null,
     address:null,
     url:"<a href='https://www.w3schools.com' target='_blank'>https://www.w3schools.com</a>",
     email:null,
     notes:"Learn web development/programming."
    },

/* 
 ...new template/start...
    {
     category:"",
     name:"",
     number:null,
     mobile:null,
     address:null,
     url:null,
     email:null,
     notes:null
    },
  ...new template/end... 
*/

   ] //end of objects array, phonebook

   function showNoOfRecords(){
    var noOfRecords = phonebook.length;
    document.getElementById("inpNoOfRecs").value = noOfRecords;
   } //...end of function/showNoOfRecords()

   function showAll(){
    showNoOfRecords();
    output = "";
    for (var x = 0; x < phonebook.length; x++){
     buildOutput(x+1,x);
    }
    document.getElementById("divOutput").innerHTML = output;
   } //...end of function/showALL()

   function clearOutput(){
    output = "";
    document.getElementById("inpNoOfRecs").value = 0;
    document.getElementById("inpSearchText").value = "";
    document.getElementById("divOutput").innerHTML = output;
   } //...end of function/clearOutput()

   function search(){
    output = "";
    var noOfRecordsFound = 0;
    var searchText = document.getElementById("inpSearchText").value;
    for (var x = 0; x < phonebook.length; x++){
     var n = (phonebook[x].category).includes(searchText);
     if (n) { 
      buildOutput(++noOfRecordsFound,x);
     }
    }
    document.getElementById("inpNoOfRecs").value = noOfRecordsFound;
    document.getElementById("divOutput").innerHTML = output;
   } //...end of function/search()

   function buildOutput(recNo,x){
                  output += "<hr />" + recNo + "&gt;"
                         + "<br /><b>Category</b>: " + phonebook[x].category
                         + "<br /><b>Name</b>: "     + phonebook[x].name
                         if (phonebook[x].number  != null)  {output += "<br /><b>Number</b>: "   + phonebook[x].number;} 
                         if (phonebook[x].mobile  != null)  {output += "<br /><b>Mobile</b>: "   + phonebook[x].mobile;} 
                         if (phonebook[x].url     != null)  {output += "<br /><b>URL</b>: "      + phonebook[x].url;}
                         if (phonebook[x].address != null)  {output += "<br /><b>Address</b>: "  + phonebook[x].address;} 
                         if (phonebook[x].email   != null)  {output += "<br /><b>Email</b>: "    + phonebook[x].email;} 
                         if (phonebook[x].notes   != null)  {output += "<br /><b>NOTES</b>: "    + phonebook[x].notes;}
                         + "<hr />";    
                return output;				
   }
   

  </script>
  <!--javascript code/end-->

  <!--internal header based stylesheet/start-->
  <style>

   /* links */

   a:link{color:blue;text-decoration:none;}
   a:hover{color:red;text-decoration:underline;}
   a:active{color:orange;}
   a:visited{color:purple;}

   /* header and footer */

   header,footer{text-align:center;}

   /* classes */

   .clsTimeDateStamp{color:red;font-style:italic;}

   /* id's */

   #divButtons{text-align:center;}
   #divOutput{border:1px solid black;padding:25px;}
   #copyrightMessage{background-color:black;color:white;font-weight:bold;}
   
  </style>
  <!--internal header based stylesheet/end-->


 </head><!--head section/end-->

 
 <body onload="javascript:showNoOfRecords();"><!--body section/start-->


  <header>
   <h1>Javascript phonebook app.</h1>
  </header>

  <main>
   <div id="divButtons">
    No of records: <input type="text" size="3" id="inpNoOfRecs" />
    <button onclick="javascript:showAll();">Show ALL</button> /
    Enter search text: <input type="text" size="20" id="inpSearchText" />
    <button onclick="javascript:search();">Search</button> /
    <button onclick="javascript:clearOutput();">Clear</button>
   </div>
   <div id="divOutput"></div>
  </main>

  <footer>
   <p>
    Email: 
    <a href="mailto:pramnora@yahoo.com">pramnora@yahoo.com</a>
    <br />
    <span id="copyrightMessage">&copy;2020, Mr. Paul Ramnora./All rights reserved.</span>
    <br />    
    Page created: <span class="clsTimeDateStamp">18:24 21/11/2020</span>
    <br />
    Last updated: <span class="clsTimeDateStamp">20:37 24/11/2020</span>
   </p>
  </footer>


 </body><!--body section/end-->


<!--html code/end-->
</html>
