<!DOCTYPE html>

<html lang="en"><!--html code/start-->

 <!--NOTE: This is a very simple example file...; where all code exists inside of 'one' single file: 
           js-phonebook-01c.html
           In an actual real life application, however, you would create 4 separate files
           (and, then, link to these from the main HTML file):-
           1> js-phonebook-01.html (stores the HTML codes/and, main UI-User interface)
           2> js-phonebook-01.css  (stores the internal header stylesheet code)
           3> js-phonebook-01.js (stores the main Javascript program script logic)
           4> js-phonebook-01-data.js (stores the peoples data: names, numbers...using Javascript style data format)
 -->  
 
 <!-- Javascript Phonebook application...version III;
      allows searching through a list of different categories;
      this version includes multiple different field names:
      includes 8 different field names: 
      category, name, number, mobile, address, url, email, notes
 -->
 

 <head><!--head section/start-->


  <meta charset="utf-8" />

  <title>Javascript Phonebook App</title>

  <!--javascript code/start-->
  <script>

   //*** database/8 fields: category, name, number, mobile, address, url, email, notes 

   var phonebook = [
    {category:"family, cousin", name:"Geoff", number:"0208",mobile:null,address:null,url:null,email:null,notes:null},
    {category:"friends, martial arts, tai chi, teacher", name:"David", number:"0207",mobile:null,address:null,url:null,email:null,notes:null},
    {category:"business, finance, building society", name:"Cheshire", number:"0345",mobile:null,address:null,url:null,email:null,notes:null},
    {category:"business, builder", name:"Zoltan", number:"0730",mobile:null,address:null,url:null,email:null,notes:null},
    {category:"emergency, police, fire, ambulance", name:"Emergency", number:"999",mobile:null,address:null,url:null,email:null,notes:null},
    {category:"emergency, doctor", name:"Medical Centre", number:"0208",mobile:null,address:null,url:null,email:null,notes:null},
    {category:"emergency, suicidal, chat", name:"Samaritans", number:"0208",mobile:null,address:null,url:null,email:null,notes:null},
    {category:"art, teacher, charity, friend", name:"Lil", number:"0207",mobile:null,address:null,url:null,email:null,notes:null},
    {category:"business, finance, bank, debit card, loan", name:"Nat West", number:"0800",mobile:null,address:null,url:null,email:null,notes:null},
    {category:"business, finance, bank, debit card, credit card, loan", name:"Cashplus", number:"0330",mobile:null,address:null,url:null,email:null,notes:null},
    {category:"business, charity, timebank", name:"Paxton Green Time Bank", number:"0208",mobile:null,address:null,url:null,email:null,notes:null},
    {category:"personal, family", name:"Myself", number:"0208",mobile:null,address:null,url:null,email:null,notes:null},
    {category:"mail, email", name:"Yahoo", number:null,mobile:null,address:null,url:"<a href='https://www.yahoo.com' target='_blank'>Yahoo</a>",email:null,notes:"My main email service provider."},
   ] //end of objects array, phonebook

   function showNoOfRecords(){
    var noOfRecords = phonebook.length;
    document.getElementById("inpNoOfRecs").value = noOfRecords;
   } //...end of function/showNoOfRecords()

   function showAll(){
    showNoOfRecords();
    var output = "";
    for (var x = 0; x < phonebook.length; x++){
     output += (x+1) + "&gt;<br /><b>Category</b>: " + phonebook[x].category
                                                     + "<br />" 
					             + phonebook[x].name
                                            + " => " + phonebook[x].number 
                                              + ", " + phonebook[x].mobile 
                                              + ", " + phonebook[x].address 
                                              + ", " + phonebook[x].url
                                              + ", " + phonebook[x].email 
                                                     + "<br /><b>NOTES</b>: " 
                                                     + phonebook[x].notes 
                                                     + "<hr />";
    }
    document.getElementById("divOutput").innerHTML = output;
   } //...end of function/showALL()

   function clearOutput(){
    var output = "";
    document.getElementById("inpNoOfRecs").value = 0;
    document.getElementById("inpSearchText").value = "";
    document.getElementById("divOutput").innerHTML = output;
   } //...end of function/clearOutput()

   function search(){
    var output = "";
    var noOfRecordsFound = 0;
    var searchText = document.getElementById("inpSearchText").value;
    for (var x = 0; x < phonebook.length; x++){
     var n = (phonebook[x].category).includes(searchText);
     if (n) { 
      output += ++noOfRecordsFound + "&gt;<br /><b>Category</b>: " + phonebook[x].category 
                                                                   + "<br />" 
								   + phonebook[x].name 
                                                          + " => " + phonebook[x].number 
                                  	                    + ", " + phonebook[x].mobile 
                                                            + ", " + phonebook[x].address 
                                                            + ", " + phonebook[x].url
                                                            + ", " + phonebook[x].email 
                                                            + "<br /><b>NOTES</b>: " 
                                                                   + phonebook[x].notes 
                                                                   + "<hr />";
     }
    }  
    document.getElementById("inpNoOfRecs").value = noOfRecordsFound;
    document.getElementById("divOutput").innerHTML = output;
   } //...end of function/search()

  </script>
  <!--javascript code/end-->

  <!--internal header based stylesheet/start-->
  <style>

   /* links */

   a:link{color:blue;text-decoration:none;}
   a:hover{color:red;text-decoration:underline;}
   a:active{color:orange;}
   a:visited{color:purple;}

   /* header and footer */

   header,footer{text-align:center;}

   /* classes */

   .clsTimeDateStamp{color:red;font-style:italic;}

   /* id's */

   #divButtons{text-align:center;}
   #divOutput{border:1px solid black;padding:25px;}
   #copyrightMessage{background-color:black;color:white;font-weight:bold;}
   
  </style>
  <!--internal header based stylesheet/end-->


 </head><!--head section/end-->

 
 <body onload="javascript:showNoOfRecords();"><!--body section/start-->


  <header>
   <h1>Javascript phonebook app.</h1>
  </header>

  <main>
   <div id="divButtons">
    No of records: <input type="text" size="3" id="inpNoOfRecs" />
    <button onclick="javascript:showAll();">Show ALL</button> /
    Enter search text: <input type="text" size="20" id="inpSearchText" />
    <button onclick="javascript:search();">Search</button> /
    <button onclick="javascript:clearOutput();">Clear</button>
   </div>
   <div id="divOutput"></div>
  </main>

  <footer>
   <p>
    Email: 
    <a href="mailto:pramnora@yahoo.com">pramnora@yahoo.com</a>
    <br />
    <span id="copyrightMessage">&copy;2020, Mr. Paul Ramnora./All rights reserved.</span>
    <br />    
    Page created: <span class="clsTimeDateStamp">18:24 21/11/2020</span>
    <br />
    Last updated: <span class="clsTimeDateStamp">08:53 24/11/2020</span>
   </p>
  </footer>


 </body><!--body section/end-->


<!--html code/end-->
</html>
