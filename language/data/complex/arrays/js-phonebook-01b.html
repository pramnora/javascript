<!DOCTYPE html>

<html lang="en"><!--html code/start-->

<!-- * Javascript Phonebook application...version II;
       1 - allows searching through the list of various categories
       2 - also, the ability to hit 'hide'/[Clear] output
       3 - the inclusion of web sites (as well as, names/phone numbers); 
          (this option only just 'started' on/still needing to be further developed)
     -------------------------------------------------------------------------------
     * List of possible future changes...
       A - Add addresses
       B - Etc.
 -->


 <head><!--head section/start-->


  <meta charset="utf-8" />

  <title>Javascript Phonebook App</title>

  <!--javascript code/start-->
  <script>
  
   //*** database... 
   var phonebook = [
    {category:"family, cousin", name:"Jim", number:"0208"},
    {category:"friends, martial arts, tai chi, teacher", name:"David", number:"0207"},
    {category:"business, finance, building society", name:"Cheshire", number:"0345"},
    {category:"business, builder", name:"Fred", number:"0730"},
    {category:"emergency, police, fire, ambulance", name:"Emergency", number:"999"},
    {category:"emergency, doctor", name:"Medical Centre", number:"0208"},
    {category:"emergency, suicidal, chat", name:"Samaritans", number:"0208"},
    {category:"art, teacher, charity, friend", name:"Brenda", number:"0207"},
    {category:"business, finance, bank, debit card, loan", name:"Lloyds bank", number:"0800"},
    {category:"business, finance, bank, debit card, credit card, loan", name:"Cashplus", number:"0330"},
    {category:"business, charity", name:"Oxfam", number:"0208"},
    {category:"personal, family", name:"Myself", number:"0208"},
    {category:"mail, email", name:"yahoo", number:"<a href='https://www.yahoo.com' target='_blank'>Yahoo</a>"},
   ] //end of objects array, phonebook

   function showNoOfRecords(){
    var noOfRecords = phonebook.length;
    document.getElementById("inpNoOfRecs").value = noOfRecords;
   } //...end of function/showNoOfRecords()

   function showAll(){
    showNoOfRecords();
    var output = "";
    for (var x = 0; x < phonebook.length; x++){
     output += (x+1) + "&gt;<br /><b>Category</b>: " + phonebook[x].category + "<br />" + phonebook[x].name + " => " + phonebook[x].number + "<hr />";
    }
    document.getElementById("divOutput").innerHTML = output;
   } //...end of function/showALL()

   function clearAll(){
    var output = "";
    document.getElementById("inpNoOfRecs").value = 0;
    document.getElementById("inpSearchText").value = "";
    document.getElementById("divOutput").innerHTML = output;
   } //...end of function/clearOutput()

   function search(){
    var output = "";
    var noOfRecordsFound = 0;
    var searchText = document.getElementById("inpSearchText").value;
    for (var x = 0; x < phonebook.length; x++){
     var n = (phonebook[x].category).includes(searchText);
     if (n) { 
      output += ++noOfRecordsFound + "&gt;<br /><b>Category</b>: " + phonebook[x].category + "<br />" + phonebook[x].name + " => " + phonebook[x].number + "<hr />";
     }
    }  
    document.getElementById("inpNoOfRecs").value = noOfRecordsFound;
    document.getElementById("divOutput").innerHTML = output;
   } //...end of function/search()

  </script>
  <!--javascript code/end-->

  <!--internal header based stylesheet/start-->
  <style>

   /* links */

   a:link{color:blue;text-decoration:none;}
   a:hover{color:red;text-decoration:underline;}
   a:active{color:orange;}
   a:visited{color:purple;}

   /* header and footer */

   header,footer{text-align:center;}

   /* classes */

   .clsTimeDateStamp{color:red;font-style:italic;}

   /* id's */

   #divButtons{text-align:center;}
   #divOutput{border:1px solid black;padding:25px;}
   #copyrightMessage{background-color:black;color:white;font-weight:bold;}
   
  </style>
  <!--internal header based stylesheet/end-->


 </head><!--head section/end-->

 
 <body onload="javascript:showNoOfRecords();"><!--body section/start-->


  <header>
   <h1>Javascript phonebook app.</h1>
  </header>

  <main>
   <div id="divButtons">
    No of records: <input type="text" size="3" id="inpNoOfRecs" />
    <button onclick="javascript:showAll();">Show ALL</button>
    <br />
    Enter search text(category): <input type="text" size="20" id="inpSearchText" />
    <button onclick="javascript:search();">Search</button>
    <br />      
    <button onclick="javascript:clearAll();">Clear All</button>
   </div>
   <div id="divOutput"></div>
  </main>

  <footer>
   <p>
    Email: 
    <a href="mailto:pramnora@yahoo.com">pramnora@yahoo.com</a>
    <br />
    <span id="copyrightMessage">&copy;2020, Mr. Paul Ramnora./All rights reserved.</span>
    <br />    
    Page created: <span class="clsTimeDateStamp">18:24 21/11/2020</span>
    <br />
    Last updated: <span class="clsTimeDateStamp">05:48 24/11/2020</span>
   </p>
  </footer>


 </body><!--body section/end-->


<!--html code/end-->
</html>
